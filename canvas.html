<!doctype html> <html>
  <head>
    <title>Learning Javascript</title>
    <script type="text/javascript">
      var context;
      function rectangle(color, x, y, width, height){
        context.fillStyle = color;
        context.fillRect(x, y, width, height);
      }

      function bar(x, y, offset){
        rectangle("rgb(64, 64, 128)", 0, x*12, y*10, 10);
      }

      function text(message, color, x, y, font){
        context.fillStyle = color;
        context.font = font;
        context.fillText(message, x, y);
      }

      function pie(progress, value){
        context.beginPath();
        context.fillStyle = "hsl("+(progress * 360)+", 80%, 60%)";
        context.moveTo(150, 150);
        context.arc(150, 150, 100, progress*2*Math.PI, (progress+value)*2*Math.PI);
        context.fill();
      }

      function line(x, y){
        context.strokeStyle = "hsl(30, 80%, 50%)";
        context.lineWidth = 4;
        context.lineTo(x*50, 100-y*10);
        text(y, "black", x*48, 115-y*9, "12px sans-serif");
        context.stroke();
      }

      function normalize_data(data){
        var total = 0;
        for (i in data ){
          total += data[i];
        }
        var percentages = [];
        for (i in data){
          percentage = data[i]/total
          percentages.push(percentage)
        }
        return percentages
      }

      function ready(){
        var canvas = document.getElementById("drawing");
        context = canvas.getContext("2d");
        var data = [4, 7, 2, 4, 9]; 
        for (i in data){
          line(i, data[i]);
        }
        text("So much lines!", "green", 0, 150, "30px sans-serif");
      }
    </script>
  </head>
  <body onload='ready()'>
    <h1>Learning Javascript</h1>
    <canvas id='drawing' width="600" height="400"></canvas>
  </body>
</html>
